<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>

    <script>
        var arr = [{
            BasicInfo: [{
                SensorName: "1#运行泵",
                DataType: "运行状态"
            },
            {
                SensorName: "运行",
                DataType: "运行状态"
            },
            {
                SensorName: "1#电流泵",
                DataType: "电流"
            },
            {
                SensorName: "2#运行泵",
                DataType: "运行状态"
            },
            {
                SensorName: "3#运行泵",
                DataType: "运行状态"
            },
            {
                SensorName: "运行状态",
                DataType: "运行状态"
            },
            {
                SensorName: "4#运行泵",
                DataType: "运行状态"
            },
            {
                SensorName: "2#电流泵",
                DataType: "电流"
            },
            {
                SensorName: "3#电流泵",
                DataType: "电流"
            },
            {
                SensorName: "5#运行泵",
                DataType: "运行状态"
            }]
        }];

        // for (var i = 0; i < arr.length; i++) {
        //     for (var j = 0; j < arr[i].BasicInfo.length; j++) {
        //         if (arr[i].BasicInfo[j].DataType == "运行状态" || arr[i].BasicInfo[j].DataType == "电流") {
        //             if (arr[i].BasicInfo[j].SensorName.indexOf("泵") !== -1) {
        //                 arr[i].BasicInfo[j].SensorName = arr[i].BasicInfo[j].SensorName.substr(0, 2);
        //             }else{
        //                 arr[i].BasicInfo.splice(arr[i].BasicInfo[j]);
        //             }
        //         }
        //     }
        // }

        arr.forEach(function (stationInfo) {
            stationInfo.BasicInfo.forEach(function (item, index) {

                if (item.DataType == "运行状态" || item.DataType == "电流") {
                    if (item.SensorName.indexOf("泵") == -1) {
                        //item.SensorName = item.SensorName.substr(0, 2);
                        stationInfo.BasicInfo.splice(index, 1);
                    }
                }
            });

            stationInfo.BasicInfo.forEach(function (item, index) {
                item.SensorName = item.SensorName.substr(0, 2);
            });
        })

        console.log(arr);
    </script>
</head>
<body>

</body>
</html>